<div class="carrito-page">
<div *ngIf="mensaje" class="alert alert-success alert-fixed">
  {{ mensaje }}
</div>
<div class="container py-4">
  <h2 class="text-light mb-4">ðŸ›’ Tu carrito</h2>

  <div class="row row-cols-1 row-cols-sm-2 row-cols-lg-3 g-4">
    @for (juego of juegos; track juego.juego.id) {
      <div class="col">
        <div class="card game-card h-100 border-0 shadow-sm">
             <span class="cantidad-badge" *ngIf="juego.cantidad > 1">
                Ã—{{ juego.cantidad }}
            </span>
          <div class="game-img-wrapper">
            <img [src]="juego.juego.imagen_url" class="card-img-top" [alt]="juego.juego.titulo" />
          </div>
          <div class="card-body d-flex flex-column text-light">
            <h5 class="fw-bold mb-1">{{ juego.juego.titulo }}</h5>
            <p class="text-secondary small mb-2">
            {{ juego.juego.plataforma.nombre }} â€¢ {{ juego.juego.juego_genero | generosPipe }}
            </p>
            <p class="fw-semibold text-primary mb-3 fs-5">
              {{ juego.juego.precio | currency }}
            </p>
          </div>
          
        </div>
      </div>
    } @empty {
      <p class="text-center text-light mt-4">No hay juegos en el carrito.</p>
    }
  </div>

  <div class="text-center mt-5">
    <button class="btn btn-success btn-lg px-5">
      <i class="bi bi-credit-card me-2"></i> Finalizar compra
    </button>
  </div>
</div>
</div>